{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","images/mesto_logo.svg","components/Header.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/Input.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/PopupWithSubmit.js","components/InitialPageWithForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoToolTip.js","utils/api.js","auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","onCardClick","onCardLike","onCardDelete","card","currentUser","useContext","isLiked","likes","some","user","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","className","src","link","alt","name","onClick","tittle","type","length","id","Header","mix","buttonText","userEmail","endPoint","signOut","cx","href","target","Logo","to","date","Date","Footer","getFullYear","Main","onAddPlace","onEditAvatar","onEditProfile","cards","onLikeClick","onDeleteClick","style","backgroundImage","avatar","about","map","PopupWithForm","title","isOpen","onClose","onSubmit","children","button","idSubmitted","autoComplete","disabled","Input","props","setIsShowPassword","isShowPassword","useState","inputType","setInputType","htmlFor","colormodifier","EditProfilePopup","onUpdateUser","isSubmitted","setName","description","setDescription","useEffect","e","preventDefault","value","placeholder","required","maxLength","minLength","onChange","EditAvatarPopup","onUpdateAvatar","userAvatarRef","useRef","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","ImagePopup","data","PopupWithSubmit","deleteCard","InitialPageWithForm","userSignUp","Login","handleLogin","email","password","userData","setUserData","handleChange","Register","handleRegister","confirmPassword","ProtectedRoute","Component","component","isLoggedIn","InfoToolTip","authUserData","isSignedUp","message","api","serverUrl","headers","this","_serverUrl","_headers","res","ok","json","Promise","reject","status","statusText","fetch","then","_checkStatus","method","body","JSON","stringify","cardIsLiked","authorization","BASE_URL","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isPopupWithSubmitOpen","setIsPopupWithSubmitOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","setIsSubmitted","setIsLoggedIn","setIsSignedUp","selectedCard","setSelectedCard","setCards","deletedCardData","setDeletedCardData","setCurrentUser","setAuthUserData","setUserEmail","history","useHistory","getInitialCards","catch","err","console","log","getUserData","closeAllPopups","evt","document","addEventListener","handleEscClose","removeEventListener","handleClickClosePopup","classList","contains","keyCode","handleTokenCheck","token","localStorage","getItem","Accept","Authorization","removeItem","auth","push","Provider","path","changeLikeCardStatus","newCard","items","item","identifier","setItem","setTimeout","response","updateUserData","updateAvatar","Object","assign","addCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6785c131.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const CurrentUserContext = React.createContext({});\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Card = ({ onCardClick, onCardLike, onCardDelete, card }) => {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  //обработчик слушателя клика полноэкранного просмотра изображения карточки\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  //добавляем видимость для лайка, если его установил пользователь и функционал по клику\n  const isLiked = card.likes.some((user) => user._id === currentUser._id);\n\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"\"\n  }`;\n\n  //обработчик слушателя для лайка карточки\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  //  добавляем видимость корзины удаления для карточки пользователя и функционал по клику\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `button element__trash ${\n    isOwn ? \"\" : \"element__trash_hidden\"\n  }`;\n\n  //обработчик клика удаления карточки пользователя\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return (\n    <li className=\"element elements__list-item\">\n      <img\n        src={card && card.link}\n        alt={card && card.name}\n        className=\"element__image\"\n        onClick={handleClick}\n      />\n      <div className=\"element__heading\">\n        <h2 className=\"element__title\">{card && card.name}</h2>\n        <div className=\"element__like-and-count\">\n          <button\n            arial-lable=\"Поставить/снять лайк на карточке\"\n            tittle=\"Поставить/снять лайк\"\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          />\n          <p className=\"element__count\">\n            {card.likes ? card.likes.length : \"0\"}\n          </p>\n        </div>\n      </div>\n      <button\n        arial-lable=\"Удалить карточку со страницы\"\n        tittle=\"Удалить\"\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        id=\"delete-Btn\"\n        onClick={handleDeleteClick}\n      />\n    </li>\n  );\n};\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/mesto_logo.6331fea1.svg\";","import Logo from \"../images/mesto_logo.svg\";\nimport cx from \"classnames\";\nimport React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Header = ({ mix, buttonText, userEmail, endPoint, signOut }) => {\n  return (\n    <header className={cx(mix, \"header\")}>\n      <a href=\"/\" className=\"logo\" target=\"_self\">\n        <img src={Logo} alt=\"Логотип MESTO\" className=\"header__logo\" />\n      </a>\n      <div className=\"header__menu\">\n        <p className=\"header__item\">{userEmail}</p>\n        <p className=\"header__item\">\n          <NavLink className=\"header__link\" to={endPoint} onClick={signOut}>\n            {buttonText}\n          </NavLink>\n        </p>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport cx from \"classnames\";\n\nconst date = new Date();\n\nfunction Footer({ mix }) {\n  return (\n    <footer className={cx(mix, \"footer\")}>\n      <p className=\"footer__copyright\">\n        &copy; {date.getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\n\nconst Main = ({\n  onAddPlace,\n  onCardClick,\n  onEditAvatar,\n  onEditProfile,\n  cards,\n  onLikeClick,\n  onDeleteClick,\n  signOut,\n  userEmail,\n}) => {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header\n        mix={\"page__header section\"}\n        userEmail={userEmail}\n        buttonText={\"Выйти\"}\n        endPoint={\"/sign-in\"}\n        signOut={signOut}\n      />\n      <main className=\"content page__content section section_size_narrow\">\n        <section className=\"profile\">\n          <div className=\"profile__user\">\n            <div\n              className=\"profile__user-avatar\"\n              style={{ backgroundImage: `url(${currentUser.avatar})` }}\n              onClick={onEditAvatar}\n            />\n            <div className=\"profile__user-info profile__user-info_margins_top-bottom profile__user-info_margins_left-right\">\n              <h1 className=\"profile__user-name\">{currentUser.name}</h1>\n              <p className=\"profile__user-job\">{currentUser.about}</p>\n            </div>\n            <button\n              arial-lable=\"Открыть форму для изменения данных о пользователе\"\n              tittle=\"Открыть\"\n              type=\"button\"\n              className=\"button profile__button-edit\"\n              id=\"profile-editBtn\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <button\n            arial-lable=\"Открыть форму для добавления фотографий на страницу\"\n            tittle=\"Добавить\"\n            type=\"button\"\n            className=\"button profile__button-add\"\n            onClick={onAddPlace}\n          />\n        </section>\n        <section className=\"elements\">\n          <ul className=\"elements__list\">\n            {cards.map((card) => (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onCardLike={onLikeClick}\n                onCardDelete={onDeleteClick}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n\n      <Footer mix={\"page__footer\"} />\n    </>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  isOpen,\n  onClose,\n  onSubmit,\n  children,\n  button,\n  idSubmitted,\n}) {\n  return (\n    <section\n      className={`popup page__popup section ${\n        isOpen ? \"page__popup_visible\" : \"\"\n      }`}\n      id={`edit-${name}`}\n      onClick={onClose}\n    >\n      <div className=\"popup__window popup__window_size_s\">\n        <h2 className=\"popup__title\">{title}</h2>\n        <button\n          arial-lable=\"Закрыть форму без сохранения данных\"\n          tittle=\"Закрыть\"\n          type=\"button\"\n          className=\"button popup__button-close\"\n          onClick={onClose}\n        />\n        <form\n          className=\"form\"\n          id={`${name}`}\n          name={`${name}`}\n          autoComplete=\"off\"\n          onSubmit={onSubmit}\n        >\n          {children}\n          <button\n            arial-lable=\"Подтвердите действие пользователя\"\n            type=\"submit\"\n            className={`button form__submit-btn ${\n              idSubmitted ? \"form__submit-btn_disabled\" : \"\"\n            }`}\n            disabled={idSubmitted}\n          >\n            <div className=\"button__wrapper\">\n              <div className=\"button__text\">{button}</div>\n              <div\n                className={`button__jumping-dots ${\n                  idSubmitted ? \"\" : \"button__jumping-dots_visibility_hidden\"\n                }`}\n              >\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n              </div>\n            </div>\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useContext, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Input = (props) => {\n  const { setIsShowPassword, isShowPassword } = useContext(CurrentUserContext);\n  //стэйт переменная для типа поля ввода инпута\n  const [inputType, setInputType] = useState(props.type);\n\n  //функционал отображения пароля в поле ввода\n  const handlePasswordVisible = () => {\n    if (inputType === \"password\") {\n      setIsShowPassword(true);\n      setInputType(\"text\");\n    } else {\n      setIsShowPassword(false);\n      setInputType(\"password\");\n    }\n  };\n\n  return (\n    <label className=\"form__fieldset\" htmlFor={`${props.id}-input`}>\n      <input\n        {...props}\n        type={inputType}\n        className={`form__input ${props.colormodifier}`}\n        id={`${props.id}-input`}\n      />\n      {props.type === \"password\" && (\n        <span\n          onClick={handlePasswordVisible}\n          className={`form__password-control ${\n            isShowPassword ? \"form__password-control_visible\" : \"\"\n          }`}\n        />\n      )}\n\n      <span className=\"form__input-error\" id={`${props.id}-input-error`} />\n    </label>\n  );\n};\n\nexport default Input;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Input from \"./Input\";\n\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser, isSubmitted }) => {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-profile\"}\n      title={\"Редактировать профиль\"}\n      button={!isSubmitted ? \"Сохранить\" : \"Сохранение\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    >\n      <Input\n        type={\"text\"}\n        value={name || \"\"}\n        id={\"user-name\"}\n        name={\"userNameInput\"}\n        placeholder={\"Имя\"}\n        required={true}\n        maxLength={\"40\"}\n        minLength={\"2\"}\n        onChange={handleChangeName}\n      />\n\n      <Input\n        type={\"text\"}\n        value={description || \"\"}\n        id={\"user-job\"}\n        name={\"userNameInput\"}\n        placeholder={\"О себе\"}\n        required={true}\n        maxLength={\"200\"}\n        minLength={\"2\"}\n        onChange={handleChangeDescription}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdateAvatar, isSubmitted }) => {\n  const userAvatarRef = useRef(\"\"); //отработка работы с ref в React\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    onUpdateAvatar({\n      avatar: userAvatarRef.current.value,\n    });\n\n    userAvatarRef.current.value = \"\";\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-avatar\"}\n      title={\"Обновить аватар\"}\n      button={!isSubmitted ? \"Сохранить\" : \"Сохранение\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    >\n      {/*<Input*/}\n      {/*    ref={userAvatarRef}*/}\n      {/*    type={\"url\"}*/}\n      {/*    id={\"avatar-link\"}*/}\n      {/*    name={\"avatarLinkInput\"}*/}\n      {/*    placeholder={\"Ссылка на изображение (обязательно)\"}*/}\n      {/*    required={\"true\"}*/}\n      {/*/>*/}\n\n      <label className=\"form__fieldset\" htmlFor=\"avatar-link-input\">\n        <input\n          ref={userAvatarRef}\n          type=\"url\"\n          className=\"form__input\"\n          id=\"avatar-link-input\"\n          name=\"avatarLinkInput\"\n          placeholder=\"Ссылка на изображение (обязательно)\"\n          required\n        />\n        <span className=\"form__input-error\" id=\"avatar-link-input-error\" />\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React, { useEffect, useState } from \"react\";\nimport Input from \"./Input\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace, isSubmitted }) => {\n  const [placeName, setPlaceName] = useState(\"\");\n  const [placeLink, setPlaceLink] = useState(\"\");\n\n  useEffect(() => {\n    if (!isSubmitted) {\n      setPlaceName(\"\");\n      setPlaceLink(\"\");\n    }\n  }, [isSubmitted]);\n\n  const handlePlaceLinkChange = (e) => {\n    setPlaceLink(e.target.value);\n  };\n\n  const handlePlaceNameChange = (e) => {\n    setPlaceName(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    onAddPlace({\n      name: placeName,\n      link: placeLink,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-card\"}\n      title={\"Новое место\"}\n      button={!isSubmitted ? \"Создать\" : \"Сохранение\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    >\n      <Input\n        type=\"text\"\n        value={placeName || \"\"}\n        id=\"place-name\"\n        placeholder=\"Название (обязательно)\"\n        name=\"placeNameInput\"\n        required={true}\n        maxLength=\"30\"\n        minLength=\"2\"\n        onChange={handlePlaceNameChange}\n      />\n      <Input\n        type=\"url\"\n        value={placeLink || \"\"}\n        id=\"place-link\"\n        placeholder=\"Ссылка на картинку (обязательно)\"\n        name=\"placeLinkInput\"\n        required={true}\n        onChange={handlePlaceLinkChange}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nconst ImagePopup = ({ isOpen, onClose, data }) => {\n  return (\n    <section\n      className={`popup page__popup section ${\n        isOpen ? \"page__popup_visible\" : \"\"\n      }`}\n      id=\"picture-popup\"\n      onClick={onClose}\n    >\n      <div className=\"popup__window popup__window_size_l\">\n        <button\n          arial-lable=\"Закрыть окно просмотра фотографии\"\n          tittle=\"Закрыть\"\n          type=\"button\"\n          className=\"button popup__button-close popup__button-close_pos_inside\"\n          id=\"close-PicturePopup\"\n          onClick={onClose}\n        />\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__image\"\n            src={data && data.link}\n            alt={`Нам очень жаль что вы не можете увидеть изображение этого красивого места ${\n              data && data.name\n            }`}\n          />\n          <figcaption className=\"popup__caption\">\n            {data && data.name}\n          </figcaption>\n        </figure>\n      </div>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n\n// `${!onClose ? setTimeout((()=> ''), 2000) : link}`\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst PopupWithSubmit = ({\n  isOpen,\n  onClose,\n  deleteCard,\n  isSubmitted,\n  data,\n}) => {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    deleteCard(data);\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-submit\"}\n      title={\"Вы уверены?\"}\n      button={!isSubmitted ? \"Да\" : \"Удаление\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    />\n  );\n};\n\nexport default PopupWithSubmit;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst InitialPageWithForm = ({\n  name,\n  title,\n  onSubmit,\n  children,\n  button,\n  isSubmitted,\n  userSignUp,\n}) => {\n  return (\n    <section className=\"page__login section\">\n      <div className=\"popup popup__window_size_xs\">\n        <h2 className=\"popup__title popup__title_pos_centered\">{title}</h2>\n        <form\n          className=\"form\"\n          id={`${name}`}\n          name={`${name}`}\n          autoComplete=\"off\"\n          onSubmit={onSubmit}\n        >\n          {children}\n          <button\n            arial-lable=\"Подтвердите действие пользователя\"\n            type=\"submit\"\n            className={`button form__submit-btn form__login-submit-btn ${\n              isSubmitted ? \"form__submit-btn_disabled\" : \"\"\n            }`}\n            disabled={isSubmitted}\n          >\n            <div className=\"button__wrapper\">\n              <div className=\"button__text\">{button}</div>\n              <div\n                className={`button__jumping-dots ${\n                  isSubmitted ? \"\" : \"button__jumping-dots_visibility_hidden\"\n                }`}\n              >\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n              </div>\n            </div>\n          </button>\n\n          {userSignUp && (\n            <div className=\"popup__footer\">\n              <p className=\"popup__subtitle\">Уже зарегистрированы?</p>\n              <Link className=\"popup__subtitle popup__link\" to=\"/sign-in\">\n                {userSignUp}\n              </Link>\n            </div>\n          )}\n        </form>\n      </div>\n    </section>\n  );\n};\n\nexport default InitialPageWithForm;\n","import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport InitialPageWithForm from \"./InitialPageWithForm\";\nimport Input from \"./Input\";\n\nconst Login = ({ handleLogin, isSubmitted }) => {\n  //стэйт переменная хранения полей ввода\n  const [userData, setUserData] = useState({ email: \"\", password: \"\" });\n\n  //обработчик события на инпутах\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  };\n\n  //обработчик сабмита авторизации пользователя\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!userData.email || !userData.password) {\n      return;\n    }\n\n    handleLogin(userData.password, userData.email);\n  };\n\n  return (\n    <>\n      <Header\n        mix={\"page__header section\"}\n        buttonText={\"Регистрация\"}\n        endPoint={\"/sign-up\"}\n      />\n\n      <InitialPageWithForm\n        name={\"user-sign-in\"}\n        title={\"Войти\"}\n        button={!isSubmitted ? \"Войти\" : \"Выполняется вход\"}\n        onSubmit={handleSubmit}\n        isSubmitted={isSubmitted}\n      >\n        <Input\n          type=\"email\"\n          value={userData.email}\n          id=\"email\"\n          placeholder=\"Email\"\n          name=\"email\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          // maxLength=\"30\"\n          // minLength=\"5\"\n          onChange={handleChange}\n        />\n        <Input\n          type=\"password\"\n          value={userData.password}\n          id=\"password\"\n          placeholder=\"Пароль\"\n          name=\"password\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          // minLength=\"6\"\n          onChange={handleChange}\n        />\n      </InitialPageWithForm>\n    </>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport InitialPageWithForm from \"./InitialPageWithForm\";\nimport Input from \"./Input\";\n\nconst Register = ({ handleRegister, isSubmitted }) => {\n  const [userData, setUserData] = useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!userData.password || !userData.email) {\n      return;\n    }\n    handleRegister(userData.email, userData.password, userData.confirmPassword);\n  };\n\n  return (\n    <>\n      <Header\n        mix={\"page__header section\"}\n        buttonText={\"Войти\"}\n        endPoint={\"/sign-in\"}\n      />\n      <InitialPageWithForm\n        name={\"user-sign-up\"}\n        title={\"Регистрация\"}\n        button={!isSubmitted ? \"Зарегистрироваться\" : \"Идет регистрация\"}\n        onSubmit={handleSubmit}\n        userSignUp={\"Войти\"}\n        isSubmitted={isSubmitted}\n      >\n        <Input\n          type=\"email\"\n          value={userData.email}\n          id=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          minLength=\"2\"\n          onChange={handleChange}\n        />\n        <Input\n          type=\"password\"\n          value={userData.password}\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"Пароль\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          onChange={handleChange}\n        />\n        <Input\n          type=\"password\"\n          value={userData.confirmPassword}\n          id=\"confirmPassword\"\n          name=\"confirmPassword\"\n          placeholder=\"Подтвердите пароль\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          onChange={handleChange}\n        />\n      </InitialPageWithForm>\n    </>\n  );\n};\n\nexport default Register;\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  const { isLoggedIn } = useContext(CurrentUserContext);\n\n  return (\n    <Route>\n      {() =>\n        isLoggedIn ? <Component {...props} /> : <Redirect to={props.to} />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst InfoToolTip = ({ isOpen, onClose, name }) => {\n  const { authUserData, isSignedUp } = useContext(CurrentUserContext);\n\n  return (\n    <section\n      className={`popup page__popup section ${\n        isOpen ? \"page__popup_visible\" : \"\"\n      }`}\n      id={`edit-${name}`}\n      onClick={onClose}\n    >\n      <div className=\"popup__window popup__window_size_s\">\n        <div\n          className={`popup__icon ${\n            isSignedUp\n              ? \"popup__icon_status_succeed\"\n              : \"popup__icon_status_fault\"\n          }`}\n        />\n        <h2 className=\"popup__title popup__title_pos_centered\">\n          {authUserData.message}\n        </h2>\n        <button\n          arial-lable=\"Закрыть форму без сохранения данных\"\n          tittle=\"Закрыть\"\n          type=\"button\"\n          className=\"button popup__button-close\"\n          onClick={onClose}\n        />\n      </div>\n    </section>\n  );\n};\n\nexport default InfoToolTip;\n","// Токен: 99295e52-decf-4a30-8030-f17c65fb60b0\n// Идентификатор группы: cohort-24\n\nclass Api {\n  constructor({ serverUrl, headers }) {\n    this._serverUrl = serverUrl;\n    this._headers = headers;\n  }\n\n  _checkStatus(res) {\n    return res.ok\n      ? res.json()\n      : Promise.reject(`${res.status} ${res.statusText}`);\n  }\n\n  getUserData() {\n    return fetch(`${this._serverUrl}/users/me`, {\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._serverUrl}/cards`, {\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  updateUserData(data) {\n    return fetch(`${this._serverUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => this._checkStatus(res));\n  }\n\n  addCard(card) {\n    return fetch(`${this._serverUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then((res) => this._checkStatus(res));\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._serverUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  changeLikeCardStatus(id, cardIsLiked) {\n    return fetch(`${this._serverUrl}/cards/likes/${id}`, {\n      method: cardIsLiked ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  updateAvatar(data) {\n    return fetch(`${this._serverUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then((res) => this._checkStatus(res));\n  }\n}\n\nconst api = new Api({\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-24\",\n  headers: {\n    authorization: \"99295e52-decf-4a30-8030-f17c65fb60b0\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\n//регистрация пользователя на сервере\nexport const register = (password, email) => {\n  console.log(password);\n  console.log(email);\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then((res) => {\n      try {\n        if (res.status === 201) {\n          return res.json();\n        }\n      } catch (err) {\n        return err;\n      }\n    })\n    .then((response) => {\n      return response;\n    })\n    .catch((err) => {\n      console.log(`Ошибка регистрации пользователя: ${err}`);\n      // alert(err.message);\n    });\n};\n\n//авторизация пользователя на сервере + получение токена\nexport const authorize = (password, identifier) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: identifier,\n    }),\n  })\n    .then((res) => {\n      if (res.status === 200) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        return data;\n      }\n    })\n    .then((data) => data)\n    .catch((err) => console.log(`Ошибка при авторизации пользователя: ${err}`));\n};\n\n//проверка валидности токена на стороне сервера\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        localStorage.removeItem(\"jwt\");\n      }\n    })\n    .then((data) => data)\n    .catch((err) => console.log(`Ошибка при проверке токена:${err}`));\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport Main from \"./Main\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithSubmit from \"./PopupWithSubmit\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport * as auth from \"../auth\";\n\nconst App = () => {\n  //Стэйт переменная для открытия попапа редактирования профиля\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа добавления новой карточки\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа редактирования аватара пользователя\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа полноразмерного простмотра изображения\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа подтверждения действия пользователя\n  const [isPopupWithSubmitOpen, setIsPopupWithSubmitOpen] = useState(false);\n  //Стэйт переменная открытия попапа результатов регистрации пользователя\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  //Стэйт переменная сабмита формы\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  //Стэйт переменная авторизации пользователя\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  //Стэйт переменная регистрации нового пользователя\n  const [isSignedUp, setIsSignedUp] = useState(false);\n  //Стэйт переменная для временного хранения данных о выбраной карточке\n  const [selectedCard, setSelectedCard] = useState({});\n  //Стэйт переменная для карточки\n  const [cards, setCards] = useState([]);\n  //Стэйт переменная для хранения данных удаляемой карточки\n  const [deletedCardData, setDeletedCardData] = useState({});\n  //Стэйт переменная для хранения данных пользователя\n  const [currentUser, setCurrentUser] = useState({});\n  //Стэйт переменная для cохранения данных авторизованного пользователя\n  // const [authUser, setAuthUser] = useState({});\n  const [authUserData, setAuthUserData] = useState({});\n  //стэйт переменная для хранения почтового адреса пользователя\n  const [userEmail, setUserEmail] = useState({ email: \"\" });\n  //стэйт переменная для хранения состояния значка просмотра пароля\n  const [isShowPassword, setIsShowPassword] = useState(false);\n  const history = useHistory();\n\n  //получаем массив исходных карточек\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузке карточек: ${err.status} ${err.statusText}`\n        );\n      });\n  }, []);\n\n  // функционал загрузки данных о пользователе с сервера\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((userData) => {\n        setCurrentUser(userData);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузке данных пользователя: ${err.status} ${err.statusText}`\n        );\n      });\n  }, []);\n\n  //функционал добавления новой карточки пользователя\n  const handleAddCardSubmit = (newCard) => {\n    setIsSubmitted(true);\n\n    api\n      .addCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        setIsAddPlacePopupOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузки карточки пользователя: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функция управления лайками на карточке\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((user) => user._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((items) =>\n          items.map((item) => (item._id === card._id ? newCard : item))\n        );\n      })\n      .catch((err) => {\n        console.log(\n          `Ошибка при установке лайка: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функция удаления карточки пользователя\n  const handleCardDelete = (card) => {\n    setIsSubmitted(true);\n\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((item) => item._id !== card._id));\n        setIsPopupWithSubmitOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Ошибка при удалении карточки: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функционал обновления аватара пользователя\n  const handleAvatarUpdate = (data) => {\n    setIsSubmitted(true);\n\n    api\n      .updateAvatar(data)\n      .then((data) => {\n        setCurrentUser(Object.assign(currentUser, { avatar: data.avatar }));\n        setIsEditAvatarPopupOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузки изображения аватара: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функция обновления информации о пользователе\n  const handleUserUpdate = (data) => {\n    setIsSubmitted(true);\n\n    api\n      .updateUserData(data)\n      .then((data) => {\n        setCurrentUser(data);\n        setIsEditProfilePopupOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при передаче на сервер данных пользователя: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функция управления открытием и закрытием попапов\n  //открываем попап для добавления карточки пользователя\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  //открываем попап редактирования данных о пользователе\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  //открываем попапа редактирования аватара пользователя\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  //открываем попап подтверждения действия пользователя\n  const handlePopupWithForm = (data) => {\n    setIsPopupWithSubmitOpen(true);\n    setDeletedCardData(data);\n  };\n\n  //открываем попап полноразмерного изображения карточки\n  const handleCardClick = (value) => {\n    setIsImagePopupOpen(true);\n    setSelectedCard(value);\n  };\n\n  //функция закрытия всех попапов по нажатию на крестик или клику на оверлей\n  const closeAllPopups = (evt) => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsPopupWithSubmitOpen(false);\n    setIsInfoToolTipOpen(false);\n  };\n\n  //установка слушателя для закрытия попапа по ESC\n  useEffect(() => {\n    if (\n      isEditProfilePopupOpen ||\n      isAddPlacePopupOpen ||\n      isEditAvatarPopupOpen ||\n      isImagePopupOpen ||\n      isPopupWithSubmitOpen ||\n      isInfoToolTipOpen\n    ) {\n      document.addEventListener(\"keydown\", handleEscClose);\n    }\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscClose);\n    };\n  }, [\n    isEditProfilePopupOpen,\n    isAddPlacePopupOpen,\n    isEditAvatarPopupOpen,\n    isImagePopupOpen,\n    isPopupWithSubmitOpen,\n    isInfoToolTipOpen,\n  ]);\n\n  //обработчик закрытия попапов по клику на оверлей или крестик\n  const handleClickClosePopup = (e) => {\n    if (\n      e.target.classList.contains(\"page__popup\") ||\n      e.target.classList.contains(\"popup__button-close\")\n    ) {\n      closeAllPopups();\n    }\n  };\n\n  //обработчик закрытия попапов по нажатию ESC\n  const handleEscClose = (e) => {\n    if (e.keyCode === 27) {\n      closeAllPopups();\n    }\n  };\n\n  //функционал авторизации пользователя\n  const handleLogin = (password, email) => {\n    setIsSubmitted(true);\n\n    auth\n      .authorize(password, email)\n      .then((data) => {\n        if (data) {\n          setAuthUserData({\n            email: \"\",\n            password: \"\",\n          });\n          setIsLoggedIn(true);\n          setIsShowPassword(false);\n          history.push(\"/main\");\n          setTimeout(() => setIsSubmitted(false), 3000);\n        } else {\n          setAuthUserData({\n            ...authUserData,\n            message: \"Неверный логин или пароль! Попробуйте еще раз.\",\n          });\n          setIsLoggedIn(false);\n          setIsSubmitted(false);\n          setIsInfoToolTipOpen(true);\n          setIsShowPassword(false);\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка авторизации пользователя: ${err.status}`);\n        setIsSubmitted(false);\n        setIsShowPassword(false);\n      });\n  };\n\n  //функционал регистрации нового пользователя\n  const handleRegister = (email, password, confirmPassword) => {\n    if (password === confirmPassword) {\n      setIsSubmitted(true);\n\n      auth.register(password, email).then((res) => {\n        if (res) {\n          setAuthUserData({\n            ...authUserData,\n            message: \"Вы успешно зарегистрировались!\",\n          });\n          setIsInfoToolTipOpen(true);\n          setIsSignedUp(true);\n          setIsShowPassword(false);\n          history.push(\"/sign-in\");\n        } else {\n          setAuthUserData({\n            ...authUserData,\n            message: \"Что-то пошло не так! Попробуйте еще раз.\",\n          });\n          setIsInfoToolTipOpen(true);\n          setIsSignedUp(false);\n          setIsShowPassword(false);\n          setIsSubmitted(false);\n        }\n      });\n    } else {\n      setAuthUserData({\n        ...authUserData,\n        password: \"\",\n        confirmPassword: \"\",\n        message: \"Пароли не совпадают! Попробуйте еще раз\",\n      });\n      setIsSignedUp(false);\n      setIsShowPassword(false);\n      setIsInfoToolTipOpen(true);\n    }\n\n    setTimeout(() => setIsSubmitted(false), 2000);\n  };\n\n  //функция проверки токена для автоматической авторизации пользователя\n  useEffect(() => {\n    handleTokenCheck();\n  }, [history]);\n\n  //функция проверки токена пользователя\n  const handleTokenCheck = () => {\n    const token = localStorage.getItem(\"jwt\");\n\n    if (token) {\n      auth.checkToken(token).then((res) => {\n        const { data } = res;\n        setUserEmail(data.email);\n        setIsLoggedIn(true);\n        history.push(\"/main\");\n      });\n    }\n  };\n\n  //функция выхода пользователя из системы\n  const signOut = () => {\n    setIsLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/sign-in\");\n  };\n\n  return (\n    <CurrentUserContext.Provider\n      value={{\n        currentUser,\n        authUserData,\n        isLoggedIn,\n        setIsShowPassword,\n        isShowPassword,\n        isSignedUp,\n      }}\n    >\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Switch>\n            <ProtectedRoute\n              path=\"/main\"\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onEditAvatar={handleEditAvatarClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onLikeClick={handleCardLike}\n              onDeleteClick={handlePopupWithForm}\n              signOut={signOut}\n              to={\"/sign-in\"}\n              userEmail={userEmail}\n            />\n            <Route path=\"/sign-in\">\n              <Login handleLogin={handleLogin} isSubmitted={isSubmitted} />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register\n                handleRegister={handleRegister}\n                isSubmitted={isSubmitted}\n              />\n            </Route>\n            <Route path=\"/\">\n              {isLoggedIn ? (\n                <Redirect to=\"/main\" />\n              ) : (\n                <Redirect to=\"/sign-in\" />\n              )}\n            </Route>\n          </Switch>\n        </div>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={handleClickClosePopup}\n          onUpdateUser={handleUserUpdate}\n          isSubmitted={isSubmitted}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={handleClickClosePopup}\n          onUpdateAvatar={handleAvatarUpdate}\n          isSubmitted={isSubmitted}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={handleClickClosePopup}\n          onAddPlace={handleAddCardSubmit}\n          isSubmitted={isSubmitted}\n        />\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          data={selectedCard}\n          onClose={handleClickClosePopup}\n        />\n\n        <PopupWithSubmit\n          isOpen={isPopupWithSubmitOpen}\n          onClose={handleClickClosePopup}\n          isSubmitted={isSubmitted}\n          deleteCard={handleCardDelete}\n          data={deletedCardData}\n        />\n\n        <InfoToolTip\n          isOpen={isInfoToolTipOpen}\n          onClose={handleClickClosePopup}\n          // isSignUp={isSignedUp}\n          name={\"infoToolTip\"}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}