{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","images/mesto_logo.svg","components/Header.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/Input.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/PopupWithSubmit.js","components/InitialPageWithForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoToolTip.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","onCardClick","onCardLike","onCardDelete","card","currentUser","useContext","isLiked","likes","some","user","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","className","src","link","alt","name","onClick","tittle","type","length","id","Header","mix","buttonText","userEmail","endPoint","signOut","isBurgerMenuOpen","setIsBurgerMenuOpen","cx","to","Logo","console","log","date","Date","Footer","getFullYear","Main","onAddPlace","onEditAvatar","onEditProfile","cards","onLikeClick","onDeleteClick","style","backgroundImage","avatar","about","map","PopupWithForm","title","isOpen","onClose","onSubmit","children","button","idSubmitted","autoComplete","disabled","Input","props","setIsShowPassword","isShowPassword","useState","inputType","setInputType","htmlFor","colormodifier","EditProfilePopup","onUpdateUser","isSubmitted","setName","description","setDescription","useEffect","e","preventDefault","value","placeholder","required","maxLength","minLength","onChange","target","EditAvatarPopup","onUpdateAvatar","userAvatarRef","useRef","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","ImagePopup","data","PopupWithSubmit","deleteCard","InitialPageWithForm","userSignUp","Login","handleLogin","email","password","userData","setUserData","handleChange","Register","handleRegister","confirmPassword","ProtectedRoute","Component","component","isLoggedIn","InfoToolTip","authUserData","isSignedUp","message","api","serverUrl","headers","this","_serverUrl","_headers","res","ok","json","Promise","reject","status","statusText","fetch","then","_checkStatus","method","body","JSON","stringify","cardIsLiked","authorization","BASE_URL","checkStatus","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isPopupWithSubmitOpen","setIsPopupWithSubmitOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","setIsSubmitted","setIsLoggedIn","setIsSignedUp","selectedCard","setSelectedCard","setCards","deletedCardData","setDeletedCardData","setCurrentUser","setAuthUserData","setUserEmail","history","useHistory","getInitialCards","catch","err","getUserData","handleTokenCheck","token","localStorage","getItem","Accept","Authorization","removeItem","auth","push","closeAllPopups","document","addEventListener","handleEscClose","removeEventListener","handleClickClosePopup","classList","contains","keyCode","Provider","path","changeLikeCardStatus","newCard","items","item","identifier","setItem","setTimeout","Error","error","response","errorMessage","String","split","updateUserData","updateAvatar","Object","assign","addCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d0d749d0.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const CurrentUserContext = React.createContext({});\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Card = ({ onCardClick, onCardLike, onCardDelete, card }) => {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  //обработчик слушателя клика полноэкранного просмотра изображения карточки\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  //добавляем видимость для лайка, если его установил пользователь и функционал по клику\n  const isLiked = card.likes.some((user) => user._id === currentUser._id);\n\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"\"\n  }`;\n\n  //обработчик слушателя для лайка карточки\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  //  добавляем видимость корзины удаления для карточки пользователя и функционал по клику\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `button element__trash ${\n    isOwn ? \"\" : \"element__trash_hidden\"\n  }`;\n\n  //обработчик клика удаления карточки пользователя\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return (\n    <li className=\"element elements__list-item\">\n      <img\n        src={card && card.link}\n        alt={card && card.name}\n        className=\"element__image\"\n        onClick={handleClick}\n      />\n      <div className=\"element__heading\">\n        <h2 className=\"element__title\">{card && card.name}</h2>\n        <div className=\"element__like-and-count\">\n          <button\n            arial-lable=\"Поставить/снять лайк на карточке\"\n            tittle=\"Поставить/снять лайк\"\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          />\n          <p className=\"element__count\">\n            {card.likes ? card.likes.length : \"0\"}\n          </p>\n        </div>\n      </div>\n      <button\n        arial-lable=\"Удалить карточку со страницы\"\n        tittle=\"Удалить\"\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        id=\"delete-Btn\"\n        onClick={handleDeleteClick}\n      />\n    </li>\n  );\n};\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/mesto_logo.6331fea1.svg\";","import Logo from \"../images/mesto_logo.svg\";\nimport cx from \"classnames\";\nimport React, { useContext } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Header = ({ mix, buttonText, userEmail, endPoint, signOut }) => {\n  const { isBurgerMenuOpen, setIsBurgerMenuOpen } =\n    useContext(CurrentUserContext);\n\n  //функция для открытия меню бургера\n  const handleMenuBurger = () => {\n    if (!isBurgerMenuOpen) {\n      setIsBurgerMenuOpen(true);\n      console.log(isBurgerMenuOpen);\n    } else {\n      setIsBurgerMenuOpen(false);\n      console.log(isBurgerMenuOpen);\n    }\n  };\n\n  return (\n    <header className={cx(mix, \"header\")}>\n      <NavLink to=\"/main\" className=\"logo\">\n        <img src={Logo} alt=\"Логотип MESTO\" className=\"header__logo\" />\n      </NavLink>\n      <div\n        className={`header__burger ${isBurgerMenuOpen ? \"active\" : \"\"}`}\n        onClick={handleMenuBurger}\n      >\n        <span\n          className={`header__burger_span ${isBurgerMenuOpen ? \"active\" : \"\"}`}\n        />\n      </div>\n      <div className={`header__menu ${isBurgerMenuOpen ? \"active\" : \"\"}`}>\n        {userEmail && (\n          <p className={`header__item ${isBurgerMenuOpen ? \"active\" : \"\"}`}>\n            {userEmail}\n          </p>\n        )}\n        <p className={`header__item ${isBurgerMenuOpen ? \"active\" : \"\"}`}>\n          <NavLink className=\"header__link\" to={endPoint} onClick={signOut}>\n            {buttonText}\n          </NavLink>\n        </p>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport cx from \"classnames\";\n\nconst date = new Date();\n\nfunction Footer({ mix }) {\n  return (\n    <footer className={cx(mix, \"footer\")}>\n      <p className=\"footer__copyright\">\n        &copy; {date.getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\n\nconst Main = ({\n  onAddPlace,\n  onCardClick,\n  onEditAvatar,\n  onEditProfile,\n  cards,\n  onLikeClick,\n  onDeleteClick,\n  signOut,\n  userEmail,\n}) => {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header\n        mix={\"page__header section\"}\n        userEmail={userEmail}\n        buttonText={\"Выйти\"}\n        endPoint={\"/sign-in\"}\n        signOut={signOut}\n      />\n      <main className=\"content page__content section section_size_narrow\">\n        <section className=\"profile\">\n          <div className=\"profile__user\">\n            <div\n              className=\"profile__user-avatar\"\n              style={{ backgroundImage: `url(${currentUser.avatar})` }}\n              onClick={onEditAvatar}\n            />\n            <div className=\"profile__user-info profile__user-info_margins_top-bottom profile__user-info_margins_left-right\">\n              <h1 className=\"profile__user-name\">{currentUser.name}</h1>\n              <p className=\"profile__user-job\">{currentUser.about}</p>\n            </div>\n            <button\n              arial-lable=\"Открыть форму для изменения данных о пользователе\"\n              tittle=\"Открыть\"\n              type=\"button\"\n              className=\"button profile__button-edit\"\n              id=\"profile-editBtn\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <button\n            arial-lable=\"Открыть форму для добавления фотографий на страницу\"\n            tittle=\"Добавить\"\n            type=\"button\"\n            className=\"button profile__button-add\"\n            onClick={onAddPlace}\n          />\n        </section>\n        <section className=\"elements\">\n          <ul className=\"elements__list\">\n            {cards.map((card) => (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onCardLike={onLikeClick}\n                onCardDelete={onDeleteClick}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n\n      <Footer mix={\"page__footer\"} />\n    </>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  isOpen,\n  onClose,\n  onSubmit,\n  children,\n  button,\n  idSubmitted,\n}) {\n  return (\n    <section\n      className={`popup page__popup section ${\n        isOpen ? \"page__popup_visible\" : \"\"\n      }`}\n      id={`edit-${name}`}\n      onClick={onClose}\n    >\n      <div className=\"popup__window popup__window_size_s\">\n        <h2 className=\"popup__title\">{title}</h2>\n        <button\n          arial-lable=\"Закрыть форму без сохранения данных\"\n          tittle=\"Закрыть\"\n          type=\"button\"\n          className=\"button popup__button-close\"\n          onClick={onClose}\n        />\n        <form\n          className=\"form\"\n          id={`${name}`}\n          name={`${name}`}\n          autoComplete=\"off\"\n          onSubmit={onSubmit}\n        >\n          {children}\n          <button\n            arial-lable=\"Подтвердите действие пользователя\"\n            type=\"submit\"\n            className={`button form__submit-btn ${\n              idSubmitted ? \"form__submit-btn_disabled\" : \"\"\n            }`}\n            disabled={idSubmitted}\n          >\n            <div className=\"button__wrapper\">\n              <div className=\"button__text\">{button}</div>\n              <div\n                className={`button__jumping-dots ${\n                  idSubmitted ? \"\" : \"button__jumping-dots_visibility_hidden\"\n                }`}\n              >\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n              </div>\n            </div>\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useContext, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Input = (props) => {\n  const { setIsShowPassword, isShowPassword } = useContext(CurrentUserContext);\n  //стэйт переменная для типа поля ввода инпута\n  const [inputType, setInputType] = useState(props.type);\n\n  //функционал отображения пароля в поле ввода\n  const handlePasswordVisible = () => {\n    if (inputType === \"password\") {\n      setIsShowPassword(true);\n      setInputType(\"text\");\n    } else {\n      setIsShowPassword(false);\n      setInputType(\"password\");\n    }\n  };\n\n  return (\n    <label className=\"form__fieldset\" htmlFor={`${props.id}-input`}>\n      <input\n        {...props}\n        type={inputType}\n        className={`form__input ${props.colormodifier}`}\n        id={`${props.id}-input`}\n      />\n      {props.type === \"password\" && (\n        <span\n          onClick={handlePasswordVisible}\n          className={`form__password-control ${\n            isShowPassword ? \"form__password-control_visible\" : \"\"\n          }`}\n        />\n      )}\n\n      <span className=\"form__input-error\" id={`${props.id}-input-error`} />\n    </label>\n  );\n};\n\nexport default Input;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Input from \"./Input\";\n\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser, isSubmitted }) => {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-profile\"}\n      title={\"Редактировать профиль\"}\n      button={!isSubmitted ? \"Сохранить\" : \"Сохранение\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    >\n      <Input\n        type={\"text\"}\n        value={name || \"\"}\n        id={\"user-name\"}\n        name={\"userNameInput\"}\n        placeholder={\"Имя\"}\n        required={true}\n        maxLength={\"40\"}\n        minLength={\"2\"}\n        onChange={handleChangeName}\n      />\n\n      <Input\n        type={\"text\"}\n        value={description || \"\"}\n        id={\"user-job\"}\n        name={\"userNameInput\"}\n        placeholder={\"О себе\"}\n        required={true}\n        maxLength={\"200\"}\n        minLength={\"2\"}\n        onChange={handleChangeDescription}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdateAvatar, isSubmitted }) => {\n  const userAvatarRef = useRef(\"\"); //отработка работы с ref в React\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    onUpdateAvatar({\n      avatar: userAvatarRef.current.value,\n    });\n\n    userAvatarRef.current.value = \"\";\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-avatar\"}\n      title={\"Обновить аватар\"}\n      button={!isSubmitted ? \"Сохранить\" : \"Сохранение\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    >\n      {/*<Input*/}\n      {/*    ref={userAvatarRef}*/}\n      {/*    type={\"url\"}*/}\n      {/*    id={\"avatar-link\"}*/}\n      {/*    name={\"avatarLinkInput\"}*/}\n      {/*    placeholder={\"Ссылка на изображение (обязательно)\"}*/}\n      {/*    required={\"true\"}*/}\n      {/*/>*/}\n\n      <label className=\"form__fieldset\" htmlFor=\"avatar-link-input\">\n        <input\n          ref={userAvatarRef}\n          type=\"url\"\n          className=\"form__input\"\n          id=\"avatar-link-input\"\n          name=\"avatarLinkInput\"\n          placeholder=\"Ссылка на изображение (обязательно)\"\n          required\n        />\n        <span className=\"form__input-error\" id=\"avatar-link-input-error\" />\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React, { useEffect, useState } from \"react\";\nimport Input from \"./Input\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace, isSubmitted }) => {\n  const [placeName, setPlaceName] = useState(\"\");\n  const [placeLink, setPlaceLink] = useState(\"\");\n\n  useEffect(() => {\n    if (!isSubmitted) {\n      setPlaceName(\"\");\n      setPlaceLink(\"\");\n    }\n  }, [isSubmitted]);\n\n  const handlePlaceLinkChange = (e) => {\n    setPlaceLink(e.target.value);\n  };\n\n  const handlePlaceNameChange = (e) => {\n    setPlaceName(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    onAddPlace({\n      name: placeName,\n      link: placeLink,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-card\"}\n      title={\"Новое место\"}\n      button={!isSubmitted ? \"Создать\" : \"Сохранение\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    >\n      <Input\n        type=\"text\"\n        value={placeName || \"\"}\n        id=\"place-name\"\n        placeholder=\"Название (обязательно)\"\n        name=\"placeNameInput\"\n        required={true}\n        maxLength=\"30\"\n        minLength=\"2\"\n        onChange={handlePlaceNameChange}\n      />\n      <Input\n        type=\"url\"\n        value={placeLink || \"\"}\n        id=\"place-link\"\n        placeholder=\"Ссылка на картинку (обязательно)\"\n        name=\"placeLinkInput\"\n        required={true}\n        onChange={handlePlaceLinkChange}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nconst ImagePopup = ({ isOpen, onClose, data }) => {\n  return (\n    <section\n      className={`popup page__popup section ${\n        isOpen ? \"page__popup_visible\" : \"\"\n      }`}\n      id=\"picture-popup\"\n      onClick={onClose}\n    >\n      <div className=\"popup__window popup__window_size_l\">\n        <button\n          arial-lable=\"Закрыть окно просмотра фотографии\"\n          tittle=\"Закрыть\"\n          type=\"button\"\n          className=\"button popup__button-close popup__button-close_pos_inside\"\n          id=\"close-PicturePopup\"\n          onClick={onClose}\n        />\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__image\"\n            src={data && data.link}\n            alt={`Нам очень жаль что вы не можете увидеть изображение этого красивого места ${\n              data && data.name\n            }`}\n          />\n          <figcaption className=\"popup__caption\">\n            {data && data.name}\n          </figcaption>\n        </figure>\n      </div>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n\n// `${!onClose ? setTimeout((()=> ''), 2000) : link}`\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst PopupWithSubmit = ({\n  isOpen,\n  onClose,\n  deleteCard,\n  isSubmitted,\n  data,\n}) => {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    deleteCard(data);\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-submit\"}\n      title={\"Вы уверены?\"}\n      button={!isSubmitted ? \"Да\" : \"Удаление\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    />\n  );\n};\n\nexport default PopupWithSubmit;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst InitialPageWithForm = ({\n  name,\n  title,\n  onSubmit,\n  children,\n  button,\n  isSubmitted,\n  userSignUp,\n}) => {\n  return (\n    <section className=\"page__login section\">\n      <div className=\"popup popup__window_size_xs\">\n        <h2 className=\"popup__title popup__title_pos_centered\">{title}</h2>\n        <form\n          className=\"form\"\n          id={`${name}`}\n          name={`${name}`}\n          autoComplete=\"off\"\n          onSubmit={onSubmit}\n        >\n          {children}\n          <button\n            arial-lable=\"Подтвердите действие пользователя\"\n            type=\"submit\"\n            className={`button form__submit-btn form__login-submit-btn ${\n              isSubmitted ? \"form__submit-btn_disabled\" : \"\"\n            }`}\n            disabled={isSubmitted}\n          >\n            <div className=\"button__wrapper\">\n              <div className=\"button__text\">{button}</div>\n              <div\n                className={`button__jumping-dots ${\n                  isSubmitted ? \"\" : \"button__jumping-dots_visibility_hidden\"\n                }`}\n              >\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n              </div>\n            </div>\n          </button>\n\n          {userSignUp && (\n            <div className=\"popup__footer\">\n              <p className=\"popup__subtitle\">Уже зарегистрированы?</p>\n              <Link className=\"popup__subtitle popup__link\" to=\"/sign-in\">\n                {userSignUp}\n              </Link>\n            </div>\n          )}\n        </form>\n      </div>\n    </section>\n  );\n};\n\nexport default InitialPageWithForm;\n","import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport InitialPageWithForm from \"./InitialPageWithForm\";\nimport Input from \"./Input\";\n\nconst Login = ({ handleLogin, isSubmitted }) => {\n  //стэйт переменная хранения полей ввода\n  const [userData, setUserData] = useState({ email: \"\", password: \"\" });\n\n  //обработчик события на инпутах\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  };\n\n  //обработчик сабмита авторизации пользователя\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!userData.email || !userData.password) {\n      return;\n    }\n\n    handleLogin(userData.password, userData.email);\n  };\n\n  return (\n    <>\n      <Header\n        mix={\"page__header section\"}\n        buttonText={\"Регистрация\"}\n        endPoint={\"/sign-up\"}\n      />\n\n      <InitialPageWithForm\n        name={\"user-sign-in\"}\n        title={\"Войти\"}\n        button={!isSubmitted ? \"Войти\" : \"Выполняется вход\"}\n        onSubmit={handleSubmit}\n        isSubmitted={isSubmitted}\n      >\n        <Input\n          type=\"email\"\n          value={userData.email}\n          id=\"email\"\n          placeholder=\"Email\"\n          name=\"email\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          // maxLength=\"30\"\n          // minLength=\"5\"\n          onChange={handleChange}\n        />\n        <Input\n          type=\"password\"\n          value={userData.password}\n          id=\"password\"\n          placeholder=\"Пароль\"\n          name=\"password\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          // minLength=\"6\"\n          onChange={handleChange}\n        />\n      </InitialPageWithForm>\n    </>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport InitialPageWithForm from \"./InitialPageWithForm\";\nimport Input from \"./Input\";\n\nconst Register = ({ handleRegister, isSubmitted }) => {\n  const [userData, setUserData] = useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!userData.password || !userData.email) {\n      return;\n    }\n    handleRegister(userData.email, userData.password, userData.confirmPassword);\n  };\n\n  return (\n    <>\n      <Header\n        mix={\"page__header section\"}\n        buttonText={\"Войти\"}\n        endPoint={\"/sign-in\"}\n      />\n      <InitialPageWithForm\n        name={\"user-sign-up\"}\n        title={\"Регистрация\"}\n        button={!isSubmitted ? \"Зарегистрироваться\" : \"Идет регистрация\"}\n        onSubmit={handleSubmit}\n        userSignUp={\"Войти\"}\n        isSubmitted={isSubmitted}\n      >\n        <Input\n          type=\"email\"\n          value={userData.email}\n          id=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          minLength=\"2\"\n          onChange={handleChange}\n        />\n        <Input\n          type=\"password\"\n          value={userData.password}\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"Пароль\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          onChange={handleChange}\n        />\n        <Input\n          type=\"password\"\n          value={userData.confirmPassword}\n          id=\"confirmPassword\"\n          name=\"confirmPassword\"\n          placeholder=\"Подтвердите пароль\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          onChange={handleChange}\n        />\n      </InitialPageWithForm>\n    </>\n  );\n};\n\nexport default Register;\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  const { isLoggedIn } = useContext(CurrentUserContext);\n\n  return (\n    <Route>\n      {() =>\n        isLoggedIn ? <Component {...props} /> : <Redirect to={props.to} />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst InfoToolTip = ({ isOpen, onClose, name }) => {\n  const { authUserData, isSignedUp } = useContext(CurrentUserContext);\n\n  // console.log(authUserData.message)\n  return (\n    <section\n      className={`popup page__popup section ${\n        isOpen ? \"page__popup_visible\" : \"\"\n      }`}\n      id={`edit-${name}`}\n      onClick={onClose}\n    >\n      <div className=\"popup__window popup__window_size_s\">\n        <div\n          className={`popup__icon ${\n            isSignedUp\n              ? \"popup__icon_status_succeed\"\n              : \"popup__icon_status_fault\"\n          }`}\n        />\n        <h2 className=\"popup__title popup__title_pos_centered\">\n          {authUserData.message}\n        </h2>\n        <button\n          arial-lable=\"Закрыть форму без сохранения данных\"\n          tittle=\"Закрыть\"\n          type=\"button\"\n          className=\"button popup__button-close\"\n          onClick={onClose}\n        />\n      </div>\n    </section>\n  );\n};\n\nexport default InfoToolTip;\n","// Токен: 99295e52-decf-4a30-8030-f17c65fb60b0\n// Идентификатор группы: cohort-24\n\nclass Api {\n  constructor({ serverUrl, headers }) {\n    this._serverUrl = serverUrl;\n    this._headers = headers;\n  }\n\n  _checkStatus(res) {\n    return res.ok\n      ? res.json()\n      : Promise.reject(`${res.status} ${res.statusText}`);\n  }\n\n  getUserData() {\n    return fetch(`${this._serverUrl}/users/me`, {\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._serverUrl}/cards`, {\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  updateUserData(data) {\n    return fetch(`${this._serverUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => this._checkStatus(res));\n  }\n\n  addCard(card) {\n    return fetch(`${this._serverUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then((res) => this._checkStatus(res));\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._serverUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  changeLikeCardStatus(id, cardIsLiked) {\n    return fetch(`${this._serverUrl}/cards/likes/${id}`, {\n      method: cardIsLiked ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  updateAvatar(data) {\n    return fetch(`${this._serverUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then((res) => this._checkStatus(res));\n  }\n}\n\nconst api = new Api({\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-24\",\n  headers: {\n    authorization: \"99295e52-decf-4a30-8030-f17c65fb60b0\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\n//регистрация пользователя на сервере\nexport const register = (password, email) => {\n  console.log(password);\n  console.log(email);\n  return (\n    fetch(`${BASE_URL}/signup`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        password: password,\n        email: email,\n      }),\n    })\n      // .then((res) => checkStatus(res))\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          if (res.status === 400) {\n            return res.json().then((json) => {\n              throw new Error(json.error);\n            });\n          }\n        }\n      })\n      .then((response) => {\n        return response;\n      })\n  );\n};\n\n//авторизация пользователя на сервере + получение токена\nexport const authorize = (password, identifier) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: identifier,\n    }),\n  })\n    .then((res) => checkStatus(res))\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        return data;\n      }\n    });\n};\n\n//проверка валидности токена на стороне сервера\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        localStorage.removeItem(\"jwt\");\n      }\n    })\n    .then((data) => data);\n};\n\n//функция проверки ошибок response\nconst checkStatus = (res) => {\n  return res.ok\n    ? res.json()\n    : Promise.reject(`${res.status} ${res.statusText}`);\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport Main from \"./Main\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithSubmit from \"./PopupWithSubmit\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport * as auth from \"../utils/auth\";\n\nconst App = () => {\n  //Стэйт переменная для открытия попапа редактирования профиля\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа добавления новой карточки\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа редактирования аватара пользователя\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа полноразмерного простмотра изображения\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа подтверждения действия пользователя\n  const [isPopupWithSubmitOpen, setIsPopupWithSubmitOpen] = useState(false);\n  //Стэйт переменная открытия попапа результатов регистрации пользователя\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  //Стэйт переменная сабмита формы\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  //Стэйт переменная авторизации пользователя\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  //Стэйт переменная регистрации нового пользователя\n  const [isSignedUp, setIsSignedUp] = useState(false);\n  //Стэйт переменная для временного хранения данных о выбраной карточке\n  const [selectedCard, setSelectedCard] = useState({});\n  //Стэйт переменная для карточки\n  const [cards, setCards] = useState([]);\n  //Стэйт переменная для хранения данных удаляемой карточки\n  const [deletedCardData, setDeletedCardData] = useState({});\n  //Стэйт переменная для хранения данных пользователя\n  const [currentUser, setCurrentUser] = useState({});\n  //Стэйт переменная для cохранения данных авторизованного пользователя\n  const [authUserData, setAuthUserData] = useState({});\n  //стэйт переменная для хранения почтового адреса пользователя\n  const [userEmail, setUserEmail] = useState({});\n  //стэйт переменная для хранения состояния значка просмотра пароля\n  const [isShowPassword, setIsShowPassword] = useState(false);\n  //стэйт переменная для открытия бургена меню на мобильной версии приложения\n  const [isBurgerMenuOpen, setIsBurgerMenuOpen] = useState(false);\n  const history = useHistory();\n\n  //получаем массив исходных карточек\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузке карточек: ${err.status} ${err.statusText}`\n        );\n        setAuthUserData({\n          ...authUserData,\n          message: `Непредвиденная ошибка! Пожалуйста, обратитесь в службу поддержки.`,\n        });\n        setIsInfoToolTipOpen(true);\n      });\n  }, []);\n\n  // функционал загрузки данных о пользователе с сервера\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((userData) => {\n        setCurrentUser(userData);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузке данных пользователя: ${err.status} ${err.statusText}`\n        );\n        setAuthUserData({\n          ...authUserData,\n          message: `Непредвиденная ошибка! Пожалуйста, обратитесь в службу поддержки.`,\n        });\n        setIsInfoToolTipOpen(true);\n      });\n  }, []);\n\n  //функционал добавления новой карточки пользователя\n  const handleAddCardSubmit = (newCard) => {\n    setIsSubmitted(true);\n\n    api\n      .addCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        setIsAddPlacePopupOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузки карточки пользователя: ${err.status} ${err.statusText}`\n        );\n        setAuthUserData({\n          ...authUserData,\n          message: `Карточка не добавлена! Попробуйте еще раз.`,\n        });\n        setIsInfoToolTipOpen(true);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      });\n  };\n\n  //функция управления лайками на карточке\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((user) => user._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((items) =>\n          items.map((item) => (item._id === card._id ? newCard : item))\n        );\n      })\n      .catch((err) => {\n        console.log(\n          `Ошибка при установке лайка: ${err.status} ${err.statusText}`\n        );\n        setAuthUserData({\n          ...authUserData,\n          message: `Что-то пошло не так! Попробуйте еще раз.`,\n        });\n        setIsInfoToolTipOpen(true);\n      });\n  };\n\n  //функция удаления карточки пользователя\n  const handleCardDelete = (card) => {\n    setIsSubmitted(true);\n\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((item) => item._id !== card._id));\n        setIsPopupWithSubmitOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Ошибка при удалении карточки: ${err.status} ${err.statusText}`\n        );\n        setAuthUserData({\n          ...authUserData,\n          message: `Ошибка при удалении карточки! Попробуйте еще раз.`,\n        });\n        setIsInfoToolTipOpen(true);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      });\n  };\n\n  //функционал обновления аватара пользователя\n  const handleAvatarUpdate = (data) => {\n    setIsSubmitted(true);\n\n    api\n      .updateAvatar(data)\n      .then((data) => {\n        setCurrentUser(Object.assign(currentUser, { avatar: data.avatar }));\n        setIsEditAvatarPopupOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузки изображения аватара: ${err.status} ${err.statusText}`\n        );\n        setAuthUserData({\n          ...authUserData,\n          message: `Что-то пошло не так! Попробуйте еще раз.`,\n        });\n        setIsInfoToolTipOpen(true);\n        setIsSubmitted(false);\n      });\n  };\n\n  //функция обновления информации о пользователе\n  const handleUserUpdate = (data) => {\n    setIsSubmitted(true);\n\n    api\n      .updateUserData(data)\n      .then((data) => {\n        setCurrentUser(data);\n        setIsEditProfilePopupOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при передаче на сервер данных пользователя: ${err.status} ${err.statusText}`\n        );\n        setAuthUserData({\n          ...authUserData,\n          message: `Что-то пошло не так! Попробуйте еще раз.`,\n        });\n        setIsInfoToolTipOpen(true);\n        setIsSubmitted(false);\n      });\n  };\n\n  //функционал регистрации нового пользователя\n  const handleRegister = (email, password, confirmPassword) => {\n    if (password === confirmPassword) {\n      setIsSubmitted(true);\n\n      auth\n        .register(password, email)\n        .then((res) => {\n          if (res) {\n            setAuthUserData({\n              ...authUserData,\n              message: \"Вы успешно зарегистрировались!\",\n            });\n            setIsInfoToolTipOpen(true);\n            setIsSignedUp(true);\n            setIsShowPassword(false);\n            history.push(\"/sign-in\");\n          } else {\n            setAuthUserData({\n              ...authUserData,\n              message: \"Что-то пошло не так! Попробуйте еще раз.\",\n            });\n            setIsInfoToolTipOpen(true);\n            setIsSignedUp(false);\n            setIsShowPassword(false);\n            setIsSubmitted(false);\n          }\n        })\n        .catch((err) => {\n          const errorMessage = String(err);\n          console.log(\n            `Ошибка регистрации пользователя: ${errorMessage.split(\":\")[1]}`\n          );\n\n          setAuthUserData({\n            ...authUserData,\n            message: `${errorMessage.split(\":\")[1]}!`,\n          });\n          setIsInfoToolTipOpen(true);\n          setIsSignedUp(false);\n          setTimeout(() => setIsSubmitted(false), 3000);\n        });\n    } else {\n      setAuthUserData({\n        ...authUserData,\n        password: \"\",\n        confirmPassword: \"\",\n        message: \"Пароли не совпадают! Попробуйте еще раз\",\n      });\n      setIsSignedUp(false);\n      setIsShowPassword(false);\n      setIsInfoToolTipOpen(true);\n    }\n\n    setTimeout(() => setIsSubmitted(false), 2000);\n  };\n\n  //функционал авторизации пользователя\n  const handleLogin = (password, email) => {\n    setIsSubmitted(true);\n\n    auth\n      .authorize(password, email)\n      .then((data) => {\n        if (data.token) {\n          setAuthUserData({\n            ...authUserData,\n            email: \"\",\n            password: \"\",\n          });\n          setIsLoggedIn(true);\n          setUserEmail(email);\n          setIsShowPassword(false);\n          history.push(\"/main\");\n          setTimeout(() => setIsSubmitted(false), 3000);\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка авторизации пользователя: ${err.status}`);\n        setAuthUserData({\n          ...authUserData,\n          message: `Ошибка авторизации пользователя: Неверный логин или пароль! Попробуйте еще раз.`,\n        });\n        setIsLoggedIn(false);\n        setIsInfoToolTipOpen(true);\n        setIsSubmitted(false);\n        setIsShowPassword(false);\n        setUserEmail({});\n      });\n    setTimeout(() => setIsSubmitted(false), 2000);\n  };\n\n  //функция проверки токена для автоматической авторизации пользователя\n  useEffect(() => {\n    handleTokenCheck();\n  }, [history]);\n\n  //функция проверки токена пользователя\n  const handleTokenCheck = () => {\n    const token = localStorage.getItem(\"jwt\");\n\n    if (token) {\n      auth\n        .checkToken(token)\n        .then((res) => {\n          const { data } = res;\n          setUserEmail(data.email);\n          setIsLoggedIn(true);\n          history.push(\"/main\");\n        })\n        .catch((err) => {\n          console.log(`Ошибка при проверке токена:${err}`)\n          history.push(\"/sign-in\")\n          setAuthUserData({\n            ...authUserData,\n            message: `Ошибка авторизации пользователя. Пожалуйста, войдите под своей учетной записью`,\n          });\n          setIsInfoToolTipOpen(true);\n        });\n    }\n  };\n\n  //функция управления открытием и закрытием попапов\n  //открываем попап для добавления карточки пользователя\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  //открываем попап редактирования данных о пользователе\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  //открываем попапа редактирования аватара пользователя\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  //открываем попап подтверждения действия пользователя\n  const handlePopupWithForm = (data) => {\n    setIsPopupWithSubmitOpen(true);\n    setDeletedCardData(data);\n  };\n\n  //открываем попап полноразмерного изображения карточки\n  const handleCardClick = (value) => {\n    setIsImagePopupOpen(true);\n    setSelectedCard(value);\n  };\n\n  //функция закрытия всех попапов по нажатию на крестик или клику на оверлей\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsPopupWithSubmitOpen(false);\n    setIsInfoToolTipOpen(false);\n  };\n\n  //установка слушателя для закрытия попапа по ESC\n  useEffect(() => {\n    if (\n      isEditProfilePopupOpen ||\n      isAddPlacePopupOpen ||\n      isEditAvatarPopupOpen ||\n      isImagePopupOpen ||\n      isPopupWithSubmitOpen ||\n      isInfoToolTipOpen\n    ) {\n      document.addEventListener(\"keydown\", handleEscClose);\n    }\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscClose);\n    };\n  }, [\n    isEditProfilePopupOpen,\n    isAddPlacePopupOpen,\n    isEditAvatarPopupOpen,\n    isImagePopupOpen,\n    isPopupWithSubmitOpen,\n    isInfoToolTipOpen,\n  ]);\n\n  //обработчик закрытия попапов по клику на оверлей или крестик\n  const handleClickClosePopup = (e) => {\n    if (\n      e.target.classList.contains(\"page__popup\") ||\n      e.target.classList.contains(\"popup__button-close\")\n    ) {\n      closeAllPopups();\n    }\n  };\n\n  //обработчик закрытия попапов по нажатию ESC\n  const handleEscClose = (e) => {\n    if (e.keyCode === 27) {\n      closeAllPopups();\n    }\n  };\n\n  //функция выхода пользователя из системы\n  const signOut = () => {\n    setIsLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    setUserEmail({});\n    history.push(\"/sign-in\");\n  };\n\n  return (\n    <CurrentUserContext.Provider\n      value={{\n        currentUser,\n        authUserData,\n        isLoggedIn,\n        setIsShowPassword,\n        isShowPassword,\n        isSignedUp,\n        isBurgerMenuOpen,\n        setIsBurgerMenuOpen,\n      }}\n    >\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Switch>\n            <ProtectedRoute\n              path=\"/main\"\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onEditAvatar={handleEditAvatarClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onLikeClick={handleCardLike}\n              onDeleteClick={handlePopupWithForm}\n              signOut={signOut}\n              to={\"/sign-in\"}\n              userEmail={userEmail}\n            />\n            <Route path=\"/sign-in\">\n              <Login handleLogin={handleLogin} isSubmitted={isSubmitted} />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register\n                handleRegister={handleRegister}\n                isSubmitted={isSubmitted}\n              />\n            </Route>\n            <Route path=\"/\">\n              {isLoggedIn ? (\n                <Redirect to=\"/main\" />\n              ) : (\n                <Redirect to=\"/sign-in\" />\n              )}\n            </Route>\n          </Switch>\n        </div>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={handleClickClosePopup}\n          onUpdateUser={handleUserUpdate}\n          isSubmitted={isSubmitted}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={handleClickClosePopup}\n          onUpdateAvatar={handleAvatarUpdate}\n          isSubmitted={isSubmitted}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={handleClickClosePopup}\n          onAddPlace={handleAddCardSubmit}\n          isSubmitted={isSubmitted}\n        />\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          data={selectedCard}\n          onClose={handleClickClosePopup}\n        />\n\n        <PopupWithSubmit\n          isOpen={isPopupWithSubmitOpen}\n          onClose={handleClickClosePopup}\n          isSubmitted={isSubmitted}\n          deleteCard={handleCardDelete}\n          data={deletedCardData}\n        />\n\n        <InfoToolTip\n          isOpen={isInfoToolTipOpen}\n          onClose={handleClickClosePopup}\n          // isSignUp={isSignedUp}\n          name={\"infoToolTip\"}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}