{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","images/mesto_logo.svg","components/Header.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/Input.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/PopupWithSubmit.js","components/InitialPageWithForm.js","auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoToolTip.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","onCardClick","onCardLike","onCardDelete","card","currentUser","useContext","isLiked","likes","some","user","_id","cardLikeButtonClassName","isOwn","owner","cardDeleteButtonClassName","className","src","link","alt","name","onClick","tittle","type","length","id","Header","mix","buttonText","userEmail","endPoint","history","useHistory","setIsLoggedIn","cx","href","target","Logo","to","localStorage","removeItem","push","date","Date","Footer","getFullYear","Main","onAddPlace","onEditAvatar","onEditProfile","cards","onLikeClick","onDeleteClick","authUser","style","backgroundImage","avatar","about","map","PopupWithForm","title","isOpen","onClose","onSubmit","children","button","idSubmitted","autoComplete","disabled","Input","props","setIsShowPassword","isShowPassword","useState","inputType","setInputType","htmlFor","colormodifier","EditProfilePopup","onUpdateUser","isSubmitted","setName","description","setDescription","useEffect","e","preventDefault","value","placeholder","required","maxLength","minLength","onChange","EditAvatarPopup","onUpdateAvatar","userAvatarRef","useRef","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","ImagePopup","data","PopupWithSubmit","deleteCard","InitialPageWithForm","userSignUp","BASE_URL","Login","setIsSubmitted","setAuthUser","setIsInfoToolTipOpen","email","password","userData","setUserData","handleChange","identifier","fetch","method","headers","Accept","body","JSON","stringify","then","res","status","json","Promise","reject","token","setItem","catch","err","console","log","setTimeout","message","Register","setIsSignUp","confirmPassword","response","alert","ProtectedRoute","Component","component","isLoggedIn","InfoToolTip","isSignedUp","api","serverUrl","this","_serverUrl","_headers","ok","statusText","_checkStatus","cardIsLiked","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isPopupWithSubmitOpen","setIsPopupWithSubmitOpen","isInfoToolTipOpen","selectedCard","setSelectedCard","setCards","deletedCardData","setDeletedCardData","setCurrentUser","getInitialCards","getUserData","closeAllPopups","evt","document","addEventListener","handleEscClose","removeEventListener","handleClickClosePopup","classList","contains","keyCode","handleTokenCheck","getItem","Authorization","auth","Provider","exact","path","changeLikeCardStatus","newCard","items","item","updateUserData","updateAvatar","Object","assign","addCard","filter","isSignUp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.af0039eb.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const CurrentUserContext = React.createContext({});\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Card = ({ onCardClick, onCardLike, onCardDelete, card }) => {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  //обработчик слушателя клика полноэкранного просмотра изображения карточки\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  //добавляем видимость для лайка, если его установил пользователь и функционал по клику\n  const isLiked = card.likes.some((user) => user._id === currentUser._id);\n\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"\"\n  }`;\n\n  //обработчик слушателя для лайка карточки\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  //  добавляем видимость корзины удаления для карточки пользователя и функционал по клику\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `button element__trash ${\n    isOwn ? \"\" : \"element__trash_hidden\"\n  }`;\n\n  //обработчик клика удаления карточки пользователя\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return (\n    <li className=\"element elements__list-item\">\n      <img\n        src={card && card.link}\n        alt={card && card.name}\n        className=\"element__image\"\n        onClick={handleClick}\n      />\n      <div className=\"element__heading\">\n        <h2 className=\"element__title\">{card && card.name}</h2>\n        <div className=\"element__like-and-count\">\n          <button\n            arial-lable=\"Поставить/снять лайк на карточке\"\n            tittle=\"Поставить/снять лайк\"\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          />\n          <p className=\"element__count\">\n            {card.likes ? card.likes.length : \"0\"}\n          </p>\n        </div>\n      </div>\n      <button\n        arial-lable=\"Удалить карточку со страницы\"\n        tittle=\"Удалить\"\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        id=\"delete-Btn\"\n        onClick={handleDeleteClick}\n      />\n    </li>\n  );\n};\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/mesto_logo.6331fea1.svg\";","import Logo from \"../images/mesto_logo.svg\";\nimport cx from \"classnames\";\nimport React, { useContext } from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Header = ({ mix, buttonText, userEmail, endPoint }) => {\n  const history = useHistory();\n  const { setIsLoggedIn } = useContext(CurrentUserContext);\n\n  //функция выхода пользователя из системы\n  const signOut = () => {\n    setIsLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/sign-in\");\n  };\n\n  return (\n    <header className={cx(mix, \"header\")}>\n      <a href=\"/\" className=\"logo\" target=\"_self\">\n        <img src={Logo} alt=\"Логотип MESTO\" className=\"header__logo\" />\n      </a>\n      <ul className=\"header__menu\">\n        <li className=\"header__item\">{userEmail}</li>\n        <li>\n          <NavLink\n            className=\"header__item header__link\"\n            to={endPoint}\n            onClick={signOut}\n          >\n            {buttonText}\n          </NavLink>\n        </li>\n      </ul>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport cx from \"classnames\";\n\nconst date = new Date();\n\nfunction Footer({ mix }) {\n  return (\n    <footer className={cx(mix, \"footer\")}>\n      <p className=\"footer__copyright\">\n        &copy; {date.getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\n\nconst Main = ({\n  onAddPlace,\n  onCardClick,\n  onEditAvatar,\n  onEditProfile,\n  cards,\n  onLikeClick,\n  onDeleteClick,\n}) => {\n  const { currentUser, authUser } = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header\n        mix={\"page__header section\"}\n        userEmail={authUser}\n        buttonText={\"Выйти\"}\n        endPoint={\"/sign-in\"}\n      />\n      <main className=\"content page__content section section_size_narrow\">\n        <section className=\"profile\">\n          <div className=\"profile__user\">\n            <div\n              className=\"profile__user-avatar\"\n              style={{ backgroundImage: `url(${currentUser.avatar})` }}\n              onClick={onEditAvatar}\n            />\n            <div className=\"profile__user-info profile__user-info_margins_top-bottom profile__user-info_margins_left-right\">\n              <h1 className=\"profile__user-name\">{currentUser.name}</h1>\n              <p className=\"profile__user-job\">{currentUser.about}</p>\n            </div>\n            <button\n              arial-lable=\"Открыть форму для изменения данных о пользователе\"\n              tittle=\"Открыть\"\n              type=\"button\"\n              className=\"button profile__button-edit\"\n              id=\"profile-editBtn\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <button\n            arial-lable=\"Открыть форму для добавления фотографий на страницу\"\n            tittle=\"Добавить\"\n            type=\"button\"\n            className=\"button profile__button-add\"\n            onClick={onAddPlace}\n          />\n        </section>\n        <section className=\"elements\">\n          <ul className=\"elements__list\">\n            {cards.map((card) => (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onCardLike={onLikeClick}\n                onCardDelete={onDeleteClick}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n\n      <Footer mix={\"page__footer\"} />\n    </>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  isOpen,\n  onClose,\n  onSubmit,\n  children,\n  button,\n  idSubmitted,\n}) {\n  return (\n    <section\n      className={`popup page__popup section ${\n        isOpen ? \"page__popup_visible\" : \"\"\n      }`}\n      id={`edit-${name}`}\n      onClick={onClose}\n    >\n      <div className=\"popup__window popup__window_size_s\">\n        <h2 className=\"popup__title\">{title}</h2>\n        <button\n          arial-lable=\"Закрыть форму без сохранения данных\"\n          tittle=\"Закрыть\"\n          type=\"button\"\n          className=\"button popup__button-close\"\n          onClick={onClose}\n        />\n        <form\n          className=\"form\"\n          id={`${name}`}\n          name={`${name}`}\n          autoComplete=\"off\"\n          onSubmit={onSubmit}\n        >\n          {children}\n          <button\n            arial-lable=\"Подтвердите действие пользователя\"\n            type=\"submit\"\n            className={`button form__submit-btn ${\n              idSubmitted ? \"form__submit-btn_disabled\" : \"\"\n            }`}\n            disabled={idSubmitted}\n          >\n            <div className=\"button__wrapper\">\n              <div className=\"button__text\">{button}</div>\n              <div\n                className={`button__jumping-dots ${\n                  idSubmitted ? \"\" : \"button__jumping-dots_visibility_hidden\"\n                }`}\n              >\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n              </div>\n            </div>\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useContext, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Input = (props) => {\n  const { setIsShowPassword, isShowPassword } = useContext(CurrentUserContext);\n  //стэйт переменная для типа поля ввода инпута\n  const [inputType, setInputType] = useState(props.type);\n\n  //функционал отображения пароля в поле ввода\n  const handlePasswordVisible = () => {\n    if (inputType === \"password\") {\n      setIsShowPassword(true);\n      setInputType(\"text\");\n    } else {\n      setIsShowPassword(false);\n      setInputType(\"password\");\n    }\n  };\n\n  return (\n    <label className=\"form__fieldset\" htmlFor={`${props.id}-input`}>\n      <input\n        {...props}\n        type={inputType}\n        className={`form__input ${props.colormodifier}`}\n        id={`${props.id}-input`}\n      />\n      {props.type === \"password\" && (\n        <a\n          href=\"/\"\n          onClick={handlePasswordVisible}\n          className={`form__password-control ${\n            isShowPassword ? \"form__password-control_visible\" : \"\"\n          }`}\n        />\n      )}\n\n      <span className=\"form__input-error\" id={`${props.id}-input-error`} />\n    </label>\n  );\n};\n\nexport default Input;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Input from \"./Input\";\n\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser, isSubmitted }) => {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-profile\"}\n      title={\"Редактировать профиль\"}\n      button={!isSubmitted ? \"Сохранить\" : \"Сохранение\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    >\n      <Input\n        type={\"text\"}\n        value={name || \"\"}\n        id={\"user-name\"}\n        name={\"userNameInput\"}\n        placeholder={\"Имя\"}\n        required={true}\n        maxLength={\"40\"}\n        minLength={\"2\"}\n        onChange={handleChangeName}\n      />\n\n      <Input\n        type={\"text\"}\n        value={description || \"\"}\n        id={\"user-job\"}\n        name={\"userNameInput\"}\n        placeholder={\"О себе\"}\n        required={true}\n        maxLength={\"200\"}\n        minLength={\"2\"}\n        onChange={handleChangeDescription}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdateAvatar, isSubmitted }) => {\n  const userAvatarRef = useRef(\"\"); //отработка работы с ref в React\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    onUpdateAvatar({\n      avatar: userAvatarRef.current.value,\n    });\n\n    userAvatarRef.current.value = \"\";\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-avatar\"}\n      title={\"Обновить аватар\"}\n      button={!isSubmitted ? \"Сохранить\" : \"Сохранение\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    >\n      {/*<Input*/}\n      {/*    ref={userAvatarRef}*/}\n      {/*    type={\"url\"}*/}\n      {/*    id={\"avatar-link\"}*/}\n      {/*    name={\"avatarLinkInput\"}*/}\n      {/*    placeholder={\"Ссылка на изображение (обязательно)\"}*/}\n      {/*    required={\"true\"}*/}\n      {/*/>*/}\n\n      <label className=\"form__fieldset\" htmlFor=\"avatar-link-input\">\n        <input\n          ref={userAvatarRef}\n          type=\"url\"\n          className=\"form__input\"\n          id=\"avatar-link-input\"\n          name=\"avatarLinkInput\"\n          placeholder=\"Ссылка на изображение (обязательно)\"\n          required\n        />\n        <span className=\"form__input-error\" id=\"avatar-link-input-error\" />\n      </label>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React, { useEffect, useState } from \"react\";\nimport Input from \"./Input\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace, isSubmitted }) => {\n  const [placeName, setPlaceName] = useState(\"\");\n  const [placeLink, setPlaceLink] = useState(\"\");\n\n  useEffect(() => {\n    if (!isSubmitted) {\n      setPlaceName(\"\");\n      setPlaceLink(\"\");\n    }\n  }, [isSubmitted]);\n\n  const handlePlaceLinkChange = (e) => {\n    setPlaceLink(e.target.value);\n  };\n\n  const handlePlaceNameChange = (e) => {\n    setPlaceName(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    onAddPlace({\n      name: placeName,\n      link: placeLink,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-card\"}\n      title={\"Новое место\"}\n      button={!isSubmitted ? \"Создать\" : \"Сохранение\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    >\n      <Input\n        type=\"text\"\n        value={placeName || \"\"}\n        id=\"place-name\"\n        placeholder=\"Название (обязательно)\"\n        name=\"placeNameInput\"\n        required={true}\n        maxLength=\"30\"\n        minLength=\"2\"\n        onChange={handlePlaceNameChange}\n      />\n      <Input\n        type=\"url\"\n        value={placeLink || \"\"}\n        id=\"place-link\"\n        placeholder=\"Ссылка на картинку (обязательно)\"\n        name=\"placeLinkInput\"\n        required={true}\n        onChange={handlePlaceLinkChange}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nconst ImagePopup = ({ isOpen, onClose, data }) => {\n  return (\n    <section\n      className={`popup page__popup section ${\n        isOpen ? \"page__popup_visible\" : \"\"\n      }`}\n      id=\"picture-popup\"\n      onClick={onClose}\n    >\n      <div className=\"popup__window popup__window_size_l\">\n        <button\n          arial-lable=\"Закрыть окно просмотра фотографии\"\n          tittle=\"Закрыть\"\n          type=\"button\"\n          className=\"button popup__button-close popup__button-close_pos_inside\"\n          id=\"close-PicturePopup\"\n          onClick={onClose}\n        />\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__image\"\n            src={data && data.link}\n            alt={`Нам очень жаль что вы не можете увидеть изображение этого красивого места ${\n              data && data.name\n            }`}\n          />\n          <figcaption className=\"popup__caption\">\n            {data && data.name}\n          </figcaption>\n        </figure>\n      </div>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n\n// `${!onClose ? setTimeout((()=> ''), 2000) : link}`\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst PopupWithSubmit = ({\n  isOpen,\n  onClose,\n  deleteCard,\n  isSubmitted,\n  data,\n}) => {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isSubmitted) {\n      return;\n    }\n\n    deleteCard(data);\n  };\n\n  return (\n    <PopupWithForm\n      name={\"user-submit\"}\n      title={\"Вы уверены?\"}\n      button={!isSubmitted ? \"Да\" : \"Удаление\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      idSubmitted={isSubmitted}\n    />\n  );\n};\n\nexport default PopupWithSubmit;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst InitialPageWithForm = ({\n  name,\n  title,\n  onSubmit,\n  children,\n  button,\n  isSubmitted,\n  userSignUp,\n}) => {\n  return (\n    <section className=\"page__login section\">\n      <div className=\"popup popup__window_size_xs\">\n        <h2 className=\"popup__title popup__title_pos_centered\">{title}</h2>\n        <form\n          className=\"form\"\n          id={`${name}`}\n          name={`${name}`}\n          autoComplete=\"off\"\n          onSubmit={onSubmit}\n        >\n          {children}\n          <button\n            arial-lable=\"Подтвердите действие пользователя\"\n            type=\"submit\"\n            className={`button form__submit-btn form__login-submit-btn ${\n              isSubmitted ? \"form__submit-btn_disabled\" : \"\"\n            }`}\n            disabled={isSubmitted}\n          >\n            <div className=\"button__wrapper\">\n              <div className=\"button__text\">{button}</div>\n              <div\n                className={`button__jumping-dots ${\n                  isSubmitted ? \"\" : \"button__jumping-dots_visibility_hidden\"\n                }`}\n              >\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n                <span className=\"button__jumping-dots jump\">.</span>\n              </div>\n            </div>\n          </button>\n\n          {userSignUp && (\n            <div className=\"popup__footer\">\n              <p className=\"popup__subtitle\">Уже зарегистрированы?</p>\n              <Link className=\"popup__subtitle popup__link\" to=\"/sign-in\">\n                {userSignUp}\n              </Link>\n            </div>\n          )}\n        </form>\n      </div>\n    </section>\n  );\n};\n\nexport default InitialPageWithForm;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\n//регистрация пользователя на сервере\nexport const register = (password, email) => {\n  console.log(password);\n  console.log(email);\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email,\n    }),\n  })\n    .then((res) => {\n      try {\n        if (res.status === 201) {\n          return res.json();\n        }\n      } catch (err) {\n        return err.log;\n      }\n      console.log(res);\n    })\n    .then((response) => {\n      return response;\n    })\n    .catch((err) => {\n      console.log(`Ошибка регистрации пользователя: ${err}`);\n      alert(err.message);\n    });\n};\n\n//авторизация пользователя на сервере + получение токена\nexport const authorize = (password, identifier) => {\n  return (\n    fetch(`${BASE_URL}/signin`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        password: password,\n        email: identifier,\n      }),\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          return res.json();\n        } else {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n      })\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem(\"jwt\", data.token);\n          return data;\n        }\n      })\n      // .then((data) => data)\n      .catch((err) =>\n        console.log(`Ошибка при авторизации пользователя: ${err}`)\n      )\n  );\n};\n\n//проверка валидности токена на стороне сервера\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        localStorage.removeItem(\"jwt\");\n      }\n    })\n    .then((data) => data)\n    .catch((err) => console.log(`Ошибка при проверке токена:${err}`));\n};\n","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport InitialPageWithForm from \"./InitialPageWithForm\";\nimport Input from \"./Input\";\nimport * as auth from \"../auth\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Login = () => {\n  const history = useHistory();\n  const {\n    setIsSubmitted,\n    isSubmitted,\n    setIsLoggedIn,\n    authUser,\n    setAuthUser,\n    setIsInfoToolTipOpen,\n    setIsShowPassword,\n  } = useContext(CurrentUserContext);\n  const [userData, setUserData] = useState({ email: \"\", password: \"\" });\n\n  //обработчик события на инпутах\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  };\n\n  //обработчик сабмита авторизации пользователя\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!userData.email || !userData.password) {\n      return;\n    }\n\n    setIsSubmitted(true);\n\n    auth\n      .authorize(userData.password, userData.email)\n      .then((data) => {\n        if (data) {\n          setUserData({\n            email: \"\",\n            password: \"\",\n          });\n          setIsLoggedIn(true);\n          setIsShowPassword(false);\n          history.push(\"/main\");\n          setTimeout(() => setIsSubmitted(false), 5000);\n        } else {\n          setUserData({\n            email: \"\",\n            password: \"\",\n          });\n          setIsLoggedIn(false);\n          setIsSubmitted(false);\n          setIsInfoToolTipOpen(true);\n          setIsShowPassword(false);\n          setAuthUser({\n            ...authUser,\n            message: \"Неверный логин или пароль! Попробуйте еще раз.\",\n          });\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка авторизации пользователя: ${err.status}`);\n        setIsSubmitted(false);\n        setIsShowPassword(false);\n      });\n  };\n\n  return (\n    <>\n      <Header\n        mix={\"page__header section\"}\n        buttonText={\"Регистрация\"}\n        endPoint={\"/sign-up\"}\n      />\n\n      <InitialPageWithForm\n        name={\"user-sign-in\"}\n        title={\"Войти\"}\n        button={!isSubmitted ? \"Войти\" : \"Выполняется вход\"}\n        onSubmit={handleSubmit}\n        isSubmitted={isSubmitted}\n      >\n        <Input\n          type=\"email\"\n          value={userData.email}\n          id=\"email\"\n          placeholder=\"Email\"\n          name=\"email\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          maxLength=\"30\"\n          minLength=\"5\"\n          onChange={handleChange}\n        />\n        <Input\n          type=\"password\"\n          value={userData.password}\n          id=\"password\"\n          placeholder=\"Пароль\"\n          name=\"password\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          minLength=\"6\"\n          onChange={handleChange}\n        />\n      </InitialPageWithForm>\n    </>\n  );\n};\n\nexport default Login;\n","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport InitialPageWithForm from \"./InitialPageWithForm\";\nimport Input from \"./Input\";\nimport * as auth from \"../auth\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Register = () => {\n  const {\n    isSubmitted,\n    setIsSubmitted,\n    setIsInfoToolTipOpen,\n    setIsSignUp,\n    setAuthUser,\n    authUser,\n    setIsShowPassword,\n  } = useContext(CurrentUserContext);\n  const [userData, setUserData] = useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n  });\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setUserData({\n      ...userData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!userData.password || !userData.email) {\n      return;\n    }\n\n    if (userData.password === userData.confirmPassword) {\n      setIsSubmitted(true);\n\n      auth.register(userData.password, userData.email).then((res) => {\n        console.log(res);\n        if (res) {\n          setAuthUser({\n            ...authUser,\n            message: \"Вы успешно зарегистрировались!\",\n          });\n          setIsInfoToolTipOpen(true);\n          setIsSignUp(true);\n          setIsShowPassword(false);\n          history.push(\"/sign-in\");\n          setTimeout(() => setIsSubmitted(false), 2000);\n        } else {\n          setAuthUser({\n            ...authUser,\n            message: \"Что-то пошло не так! Попробуйте еще раз.\",\n          });\n          setIsInfoToolTipOpen(true);\n          setIsSignUp(false);\n          setIsShowPassword(false);\n          setIsSubmitted(false);\n        }\n      });\n    } else {\n      setUserData({\n        ...userData,\n        password: \"\",\n        confirmPassword: \"\",\n      });\n      setAuthUser({\n        ...authUser,\n        message: \"Пароли не совпадают! Попробуйте еще раз\",\n      });\n      setIsSignUp(false);\n      setIsShowPassword(false);\n      setIsInfoToolTipOpen(true);\n    }\n  };\n\n  return (\n    <>\n      <Header\n        mix={\"page__header section\"}\n        buttonText={\"Войти\"}\n        endPoint={\"/sign-in\"}\n      />\n      <InitialPageWithForm\n        name={\"user-sign-up\"}\n        title={\"Регистрация\"}\n        button={!isSubmitted ? \"Зарегистрироваться\" : \"Идет регистрация\"}\n        onSubmit={handleSubmit}\n        userSignUp={\"Войти\"}\n        isSubmitted={isSubmitted}\n      >\n        <Input\n          type=\"email\"\n          value={userData.email}\n          id=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          minLength=\"2\"\n          onChange={handleChange}\n        />\n        <Input\n          type=\"password\"\n          value={userData.password}\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"Пароль\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          onChange={handleChange}\n        />\n        <Input\n          type=\"password\"\n          value={userData.confirmPassword}\n          id=\"confirmPassword\"\n          name=\"confirmPassword\"\n          placeholder=\"Подтвердите пароль\"\n          colormodifier={\"form__login-input\"}\n          required={true}\n          onChange={handleChange}\n        />\n      </InitialPageWithForm>\n    </>\n  );\n};\n\nexport default Register;\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  const { isLoggedIn } = useContext(CurrentUserContext);\n\n  return (\n    <Route>\n      {() =>\n        isLoggedIn ? <Component {...props} /> : <Redirect to={props.to} />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst InfoToolTip = ({ isOpen, onClose, name }) => {\n  const { authUser, isSignedUp } = useContext(CurrentUserContext);\n  return (\n    <section\n      className={`popup page__popup section ${\n        isOpen ? \"page__popup_visible\" : \"\"\n      }`}\n      id={`edit-${name}`}\n      onClick={onClose}\n    >\n      <div className=\"popup__window popup__window_size_s\">\n        <div\n          className={`popup__icon ${\n            isSignedUp\n              ? \"popup__icon_status_succeed\"\n              : \"popup__icon_status_fault\"\n          }`}\n        />\n        <h2 className=\"popup__title popup__title_pos_centered\">\n          {authUser.message}\n        </h2>\n        <button\n          arial-lable=\"Закрыть форму без сохранения данных\"\n          tittle=\"Закрыть\"\n          type=\"button\"\n          className=\"button popup__button-close\"\n          onClick={onClose}\n        />\n      </div>\n    </section>\n  );\n};\n\nexport default InfoToolTip;\n","// Токен: 99295e52-decf-4a30-8030-f17c65fb60b0\n// Идентификатор группы: cohort-24\n\nclass Api {\n  constructor({ serverUrl, headers }) {\n    this._serverUrl = serverUrl;\n    this._headers = headers;\n  }\n\n  _checkStatus(res) {\n    return res.ok\n      ? res.json()\n      : Promise.reject(`${res.status} ${res.statusText}`);\n  }\n\n  getUserData() {\n    return fetch(`${this._serverUrl}/users/me`, {\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._serverUrl}/cards`, {\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  updateUserData(data) {\n    return fetch(`${this._serverUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => this._checkStatus(res));\n  }\n\n  addCard(card) {\n    return fetch(`${this._serverUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link,\n      }),\n    }).then((res) => this._checkStatus(res));\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._serverUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  changeLikeCardStatus(id, cardIsLiked) {\n    return fetch(`${this._serverUrl}/cards/likes/${id}`, {\n      method: cardIsLiked ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this._checkStatus(res));\n  }\n\n  updateAvatar(data) {\n    return fetch(`${this._serverUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then((res) => this._checkStatus(res));\n  }\n}\n\nconst api = new Api({\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-24\",\n  headers: {\n    authorization: \"99295e52-decf-4a30-8030-f17c65fb60b0\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import React, { useState, useEffect } from \"react\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport Main from \"./Main\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithSubmit from \"./PopupWithSubmit\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport * as auth from \"../auth\";\n\nconst App = () => {\n  //Стэйт переменная для открытия попапа редактирования профиля\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа добавления новой карточки\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа редактирования аватара пользователя\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа полноразмерного простмотра изображения\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  //Стэйт переменная для открытия попапа подтверждения действия пользователя\n  const [isPopupWithSubmitOpen, setIsPopupWithSubmitOpen] = useState(false);\n  //Стэйт переменная открытия попапа результатов регистрации пользователя\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  //Стэйт переменная сабмита формы\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  //Стэйт переменная авторизации пользователя\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  //Стэйт переменная регистрации нового пользователя\n  const [isSignedUp, setIsSignUp] = useState(false);\n  //Стэйт переменная для временного хранения данных о выбраной карточке\n  const [selectedCard, setSelectedCard] = useState({});\n  //Стэйт переменная для карточки\n  const [cards, setCards] = useState([]);\n  //Стэйт переменная для хранения данных удаляемой карточки\n  const [deletedCardData, setDeletedCardData] = useState({});\n  //Стэйт переменная для хранения данных пользователя\n  const [currentUser, setCurrentUser] = useState({});\n  //Стэйт переменная для cохранения данных авторизованного пользователя\n  const [authUser, setAuthUser] = useState({});\n  const [isShowPassword, setIsShowPassword] = useState(false);\n  const history = useHistory();\n\n  //получаем массив исходных карточек\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузке карточек: ${err.status} ${err.statusText}`\n        );\n      });\n  }, []);\n\n  // функционал загрузки данных о пользователе с сервера\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((userData) => {\n        setCurrentUser(userData);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузке данных пользователя: ${err.status} ${err.statusText}`\n        );\n      });\n  }, []);\n\n  //функционал добавления новой карточки пользователя\n  const handleAddCardSubmit = (newCard) => {\n    setIsSubmitted(true);\n\n    api\n      .addCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        setIsAddPlacePopupOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузки карточки пользователя: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функция управления лайками на карточке\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((user) => user._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((items) =>\n          items.map((item) => (item._id === card._id ? newCard : item))\n        );\n      })\n      .catch((err) => {\n        console.log(\n          `Ошибка при установке лайка: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функция удаления карточки пользователя\n  const handleCardDelete = (card) => {\n    setIsSubmitted(true);\n\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((item) => item._id !== card._id));\n        setIsPopupWithSubmitOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Ошибка при удалении карточки: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функционал обновления аватара пользователя\n  const handleAvatarUpdate = (data) => {\n    setIsSubmitted(true);\n\n    api\n      .updateAvatar(data)\n      .then((data) => {\n        setCurrentUser(Object.assign(currentUser, { avatar: data.avatar }));\n        setIsEditAvatarPopupOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при загрузки изображения аватара: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функция обновления информации о пользователе\n  const handleUserUpdate = (data) => {\n    setIsSubmitted(true);\n\n    api\n      .updateUserData(data)\n      .then((data) => {\n        setCurrentUser(data);\n        setIsEditProfilePopupOpen(false);\n        setTimeout(() => setIsSubmitted(false), 1000);\n      })\n      .catch((err) => {\n        console.log(\n          `Непредвиденная ошибка при передаче на сервер данных пользователя: ${err.status} ${err.statusText}`\n        );\n      });\n  };\n\n  //функция управления открытием и закрытием попапов\n  //открываем попап для добавления карточки пользователя\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  //открываем попап редактирования данных о пользователе\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  //открываем попапа редактирования аватара пользователя\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  //открываем попап подтверждения действия пользователя\n  const handlePopupWithForm = (data) => {\n    setIsPopupWithSubmitOpen(true);\n    setDeletedCardData(data);\n  };\n\n  //открываем попап полноразмерного изображения карточки\n  const handleCardClick = (value) => {\n    setIsImagePopupOpen(true);\n    setSelectedCard(value);\n  };\n\n  //функция закрытия всех попапов по нажатию на крестик или клику на оверлей\n  const closeAllPopups = (evt) => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsPopupWithSubmitOpen(false);\n    setIsInfoToolTipOpen(false);\n  };\n\n  //установка слушателя для закрытия попапа по ESC\n  useEffect(() => {\n    if (\n      isEditProfilePopupOpen ||\n      isAddPlacePopupOpen ||\n      isEditAvatarPopupOpen ||\n      isImagePopupOpen ||\n      isPopupWithSubmitOpen ||\n      isInfoToolTipOpen\n    ) {\n      document.addEventListener(\"keydown\", handleEscClose);\n    }\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscClose);\n    };\n  }, [\n    isEditProfilePopupOpen,\n    isAddPlacePopupOpen,\n    isEditAvatarPopupOpen,\n    isImagePopupOpen,\n    isPopupWithSubmitOpen,\n    isInfoToolTipOpen,\n  ]);\n\n  //обработчик закрытия попапов по клику на оверлей или крестик\n  const handleClickClosePopup = (e) => {\n    if (\n      e.target.classList.contains(\"page__popup\") ||\n      e.target.classList.contains(\"popup__button-close\")\n    ) {\n      closeAllPopups();\n    }\n  };\n\n  //обработчик закрытия попапов по нажатию ESC\n  const handleEscClose = (e) => {\n    if (e.keyCode === 27) {\n      closeAllPopups();\n    }\n  };\n\n  //функция проверки токена для автоматической авторизации пользователя\n  useEffect(() => {\n    handleTokenCheck();\n  }, [history]);\n\n  //функция проверки токена пользователя\n  const handleTokenCheck = () => {\n    const token = localStorage.getItem(\"jwt\");\n\n    if (token) {\n      auth.checkToken(token).then((res) => {\n        const { data } = res;\n        setAuthUser(data.email);\n        setIsLoggedIn(true);\n        history.push(\"/main\");\n      });\n    }\n  };\n\n  return (\n    <CurrentUserContext.Provider\n      value={{\n        currentUser,\n        isLoggedIn,\n        setIsLoggedIn,\n        isSubmitted,\n        setIsSubmitted,\n        setAuthUser,\n        authUser,\n        isSignedUp,\n        setIsSignUp,\n        isInfoToolTipOpen,\n        setIsInfoToolTipOpen,\n        isShowPassword,\n        setIsShowPassword,\n      }}\n    >\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Switch>\n            <ProtectedRoute\n              exact\n              path=\"/main\"\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onEditAvatar={handleEditAvatarClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onLikeClick={handleCardLike}\n              onDeleteClick={handlePopupWithForm}\n              to={\"/sign-in\"}\n            />\n            <Route path=\"/sign-in\">\n              <Login />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register />\n            </Route>\n            <Route path=\"/\">\n              {isLoggedIn ? (\n                <Redirect to=\"/main\" />\n              ) : (\n                <Redirect to=\"/sign-in\" />\n              )}\n            </Route>\n          </Switch>\n        </div>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={handleClickClosePopup}\n          onUpdateUser={handleUserUpdate}\n          isSubmitted={isSubmitted}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={handleClickClosePopup}\n          onUpdateAvatar={handleAvatarUpdate}\n          isSubmitted={isSubmitted}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={handleClickClosePopup}\n          onAddPlace={handleAddCardSubmit}\n          isSubmitted={isSubmitted}\n        />\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          data={selectedCard}\n          onClose={handleClickClosePopup}\n        />\n\n        <PopupWithSubmit\n          isOpen={isPopupWithSubmitOpen}\n          onClose={handleClickClosePopup}\n          isSubmitted={isSubmitted}\n          deleteCard={handleCardDelete}\n          data={deletedCardData}\n        />\n\n        <InfoToolTip\n          isOpen={isInfoToolTipOpen}\n          onClose={handleClickClosePopup}\n          isSignUp={isSignedUp}\n          name={\"infoToolTip\"}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}